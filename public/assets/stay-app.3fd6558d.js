import{_ as n,s as c,g as i,h as a,i as e,j as y,k as h,l as p,m as l,a as m,c as g,b as u,r as S,o as r}from"./index.79086872.js";const f={components:{stayList:c},data(){return{stayToAdd:null,datesInfo:{isFirst:!0,startDay:"",endDay:""}}},computed:{loggedInUser(){return this.$store.getters.loggedinUser},stays(){return this.$store.getters.stays}},created(){this.$store.dispatch({type:"loadStays"}),i.on("dayPicked",this.updateDateToParams)},methods:{async setFilter(t){try{await this.$store.dispatch({type:"setFilter",filterBy:t}),a("Stay removed")}catch(s){console.log(s),e("Cannot remove stay")}},async addStay(){try{await this.$store.dispatch({type:"addStay",stay:this.stayToAdd}),a("Stay added"),this.stayToAdd=y.getEmptyStay()}catch(t){console.log(t),e("Cannot add stay")}},async removeStay(t){try{await this.$store.dispatch(h(t)),a("Stay removed")}catch(s){console.log(s),e("Cannot remove stay")}},async updateStay(t){try{t={...t},t.price=+prompt("New price?",t.price),await this.$store.dispatch(p(t)),a("Stay updated")}catch(s){console.log(s),e("Cannot update stay")}},async addStayMsg(t){try{await this.$store.dispatch(l(t)),a("Stay msg added")}catch(s){console.log(s),e("Cannot add stay msg")}},printStayToConsole(t){console.log("Stay msgs:",t.msgs)},updateDateToParams(t){this.datesInfo.isFirst?(this.datesInfo.startDay=t.id,this.datesInfo.isFirst=!1):(this.datesInfo.endDay=t.id,this.datesInfo.isFirst=!0),this.$router.push("?sd="+this.datesInfo.startDay+"&ed="+this.datesInfo.endDay)}}},_={class:"stay-app main-layout container"};function $(t,s,v,I,w,o){const d=S("stay-list");return r(),m("section",_,[o.stays?(r(),g(d,{key:0,currStays:o.stays},null,8,["currStays"])):u("",!0)])}const C=n(f,[["render",$]]);export{C as default};
