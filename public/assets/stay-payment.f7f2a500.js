import{_ as f,y as v,E as b,a as d,d as t,b as S,p as h,t as a,F as O,e as P,o as l}from"./index.e70235e1.js";import{s as y}from"./svg.service.646f8e9c.js";const x={data(){return{desktop:window.innerWidth>780,currStay:null,host:null,order:null,guests:0}},created(){this.$store.dispatch({type:"getOrderById",orderId:this.$route.params.id}),r},computed:{dealAndDiamond(){return`<h3>Good price</h3> ${y.getSvgIcon("diamond")}`},basePrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.basePrice?this.setOrder.priceObj.basePrice.toLocaleString():""},servicesPrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.serviceFee?this.setOrder.priceObj.serviceFee.toLocaleString():""},cleaningPrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.CleaningFee?this.setOrder.priceObj.CleaningFee.toLocaleString():""},taxesPrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.taxes?this.setOrder.priceObj.taxes.toLocaleString():""},totalPrice(){var s;return(s=this.setOrder)!=null&&s.totalPrice?this.setOrder.totalPrice.toLocaleString():""},setName(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.stay)!=null&&e.name?this.setOrder.stay.name:""},setOrder(){return this.$store.getters.getCurrOrder},getDiscount(){return v.getRandomIntInclusive(100,250)},stayName(){return this.currStay?this.currStay.name:this.stayName},setHostImg(){return"https://res.cloudinary.com/sprint4-triman/image/upload/v1669793675/elon_mask_ltbtp6.jpg"},totalNights(){var u,g,p,m;let s=(u=this.setOrder)!=null&&u.startDate?this.setOrder.startDate:"",e=(g=this.setOrder)!=null&&g.endDate?this.setOrder.endDate:"",_=(s-e)*-1/(1e3*60*60*24);const{adults:c,children:i,infants:o,pets:k}=(p=this.setOrder)!=null&&p.guests?(m=this.setOrder)==null?void 0:m.guests:"";let D=c+i+o+k;return this.guests=D,_},setDatesStart(){var n;return new Date((n=this.setOrder)!=null&&n.startDate?this.setOrder.startDate:"").toLocaleDateString()},setDatesEnd(){var n;return new Date((n=this.setOrder)!=null&&n.endDate?this.setOrder.endDate:"").toLocaleDateString()},setImg(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.stay)!=null&&e.img[0]?this.setOrder.stay.img[0]:""}},methods:{backToDetails(){this.$router.push("/stay/"+this.setOrder.stay._id)},backToPage(){this.$router.push("/home"),b.success("Order sent!")}},components:{svgService:y,ElMessage:b,utilService:v}},w={key:0,class:"back-payment"},T={class:"top-bar-details"},j={class:"home-btn-back"},L={viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"12px",width:"12px",stroke:"currentcolor","stroke-width":"4",overflow:"visible"}},N=t("g",{fill:"none"},[t("path",{d:"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932"})],-1),E=[N],I={class:"payment-page"},C={class:"left-side"},B=t("div",{class:"payment-title"},[t("h1",null,"Thank you for booking")],-1),F={class:"good-deal"},H=["innerHTML"],M={class:"deal-content"},V={class:"trip-display"},Y=t("h2",null,"Your trip",-1),A={class:"trip-dates"},G=t("h1",null,"Dates",-1),q={class:"dates"},R={class:"trip-guests"},W=t("h1",null,"Guests",-1),z={class:"guests"},J={class:"cell"},K=t("div",{class:"content"},[t("button",{type:"submit",class:"action-btn"},[t("span",null,"Look for more homes")])],-1),Q={class:"price-details"},U={class:"top-section"},X={class:"details-img"},Z=["src"],$={class:"second"},tt=t("div",{class:"host-img"},null,-1),et={class:"stay-name"},st=t("div",{class:"middle-section"},[t("div",{class:"text"},[h("Your booking is protected by "),t("img",{src:"https://res.cloudinary.com/dj88xudav/image/upload/v1670001241/share-cover_drqj1d.png",alt:"share-cover",class:"share-cover-img"})])],-1),rt={class:"bottom-section"},it=t("div",{class:"bottom-title"},[t("h1",null,"Price details")],-1),at={class:"price"},nt={class:"price"},ot=t("span",null,"Cleaning fee ",-1),ct={class:"price"},dt=t("span",null,"Service fee ",-1),lt={class:"price"},ht=t("span",null,"Taxes ",-1),_t={class:"price total"},ut=t("span",null,"Total price ",-1);function gt(s,e,n,_,c,i){return l(),d(O,null,[c.desktop?S("",!0):(l(),d("div",w,[t("section",T,[t("div",j,[(l(),d("svg",L,E)),t("button",{onClick:e[0]||(e[0]=(...o)=>i.backToDetails&&i.backToDetails(...o)),class:"home-back"},"Back")])])])),t("section",I,[t("div",C,[B,t("section",F,[t("div",{class:"title",innerHTML:i.dealAndDiamond},null,8,H),t("div",M,[t("p",null,[h("Your dates are "),t("span",null,"$"+a(i.getDiscount),1),h(" less than the avg. nightly rate over the last 3 months. ")])])]),t("section",V,[Y,t("div",A,[G,t("div",q,a(i.setDatesStart)+" - "+a(i.setDatesEnd),1)]),t("div",R,[W,t("div",z,a(c.guests)+" guests ",1)])]),t("div",{onClick:e[1]||(e[1]=(...o)=>i.backToPage&&i.backToPage(...o)),class:"btn-container"},[(l(),d(O,null,P(100,o=>t("div",J)),64)),K])]),t("section",Q,[t("div",U,[t("div",X,[t("img",{src:i.setImg},null,8,Z)]),t("div",$,[tt,t("div",et,a(i.setName),1)])]),st,t("div",rt,[it,t("div",at,[t("span",null,"price for "+a(i.totalNights)+" nights ",1),t("span",null,"$"+a(i.basePrice),1)]),t("div",nt,[ot,t("span",null,"$"+a(i.cleaningPrice),1)]),t("div",ct,[dt,t("span",null,"$"+a(i.servicesPrice),1)]),t("div",lt,[ht,t("span",null,"$"+a(i.taxesPrice),1)]),t("div",_t,[ut,t("span",null,"$"+a(i.totalPrice),1)])])])])],64)}const vt=f(x,[["render",gt]]);export{vt as default};
