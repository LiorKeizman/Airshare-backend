import{_ as d,s as c,e as i,a,b as e,c as y,g as p,d as h,f as l,h as g,i as m,j as u,r as S,o as r}from"./index.a0f7aa64.js";const f={components:{stayList:c},data(){return{stayToAdd:null,datesInfo:{isFirst:!0,startDay:"",endDay:""}}},computed:{loggedInUser(){return this.$store.getters.loggedinUser},stays(){return this.$store.getters.stays}},created(){this.$store.dispatch({type:"loadStays"}),i.on("dayPicked",this.updateDateToParams)},methods:{async setFilter(t){try{console.log("From toy-app",t),await this.$store.dispatch({type:"setFilter",filterBy:t}),a("Stay removed")}catch(s){console.log(s),e("Cannot remove stay")}},async addStay(){try{await this.$store.dispatch({type:"addStay",stay:this.stayToAdd}),a("Stay added"),this.stayToAdd=y.getEmptyStay()}catch(t){console.log(t),e("Cannot add stay")}},async removeStay(t){try{await this.$store.dispatch(p(t)),a("Stay removed")}catch(s){console.log(s),e("Cannot remove stay")}},async updateStay(t){try{t={...t},t.price=+prompt("New price?",t.price),await this.$store.dispatch(h(t)),a("Stay updated")}catch(s){console.log(s),e("Cannot update stay")}},async addStayMsg(t){try{await this.$store.dispatch(l(t)),a("Stay msg added")}catch(s){console.log(s),e("Cannot add stay msg")}},printStayToConsole(t){console.log("Stay msgs:",t.msgs)},updateDateToParams(t){console.log(t),this.datesInfo.isFirst?(this.datesInfo.startDay=t.id,this.datesInfo.isFirst=!1):(this.datesInfo.endDay=t.id,this.datesInfo.isFirst=!0),this.$router.push("?sd="+this.datesInfo.startDay+"&ed="+this.datesInfo.endDay)}}},_={class:"stay-app main-layout container"};function $(t,s,v,I,w,o){const n=S("stay-list");return r(),g("section",_,[o.stays?(r(),m(n,{key:0,currStays:o.stays},null,8,["currStays"])):u("",!0)])}const C=d(f,[["render",$]]);export{C as default};
