import{_ as D,y as m,E as v,h as c,k as t,j as f,p as l,u as i,F as b,l as S,o as d}from"./index.a0f7aa64.js";import{s as O}from"./svg.service.646f8e9c.js";const P={data(){return{desktop:window.innerWidth>780,currStay:null,host:null,order:null,guests:0}},created(){this.$store.dispatch({type:"getOrderById",orderId:this.$route.params.id})},computed:{dealAndDiamond(){return`<h3>Good price</h3> ${O.getSvgIcon("diamond")}`},basePrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.basePrice?this.setOrder.priceObj.basePrice.toLocaleString():""},servicesPrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.serviceFee?this.setOrder.priceObj.serviceFee.toLocaleString():""},cleaningPrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.CleaningFee?this.setOrder.priceObj.CleaningFee.toLocaleString():""},taxesPrice(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.priceObj)!=null&&e.taxes?this.setOrder.priceObj.taxes.toLocaleString():""},totalPrice(){var s;return(s=this.setOrder)!=null&&s.totalPrice?this.setOrder.totalPrice.toLocaleString():""},setName(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.stay)!=null&&e.name?this.setOrder.stay.name:""},setOrder(){return this.$store.getters.getCurrOrder},getDiscount(){return m.getRandomIntInclusive(100,250)},stayName(){return this.currStay?this.currStay.name:this.stayName},setHostImg(){return"https://res.cloudinary.com/sprint4-triman/image/upload/v1669793675/elon_mask_ltbtp6.jpg"},totalNights(){var u,_,g,p;let s=(u=this.setOrder)!=null&&u.startDate?this.setOrder.startDate:"",e=(_=this.setOrder)!=null&&_.endDate?this.setOrder.endDate:"",h=(s-e)*-1/(1e3*60*60*24);const{adults:o,children:r,infants:n,pets:y}=(g=this.setOrder)!=null&&g.guests?(p=this.setOrder)==null?void 0:p.guests:"";let k=o+r+n+y;return this.guests=k,h},setDatesStart(){var a;return new Date((a=this.setOrder)!=null&&a.startDate?this.setOrder.startDate:"").toLocaleDateString()},setDatesEnd(){var a;return new Date((a=this.setOrder)!=null&&a.endDate?this.setOrder.endDate:"").toLocaleDateString()},setImg(){var s,e;return(e=(s=this.setOrder)==null?void 0:s.stay)!=null&&e.img[0]?this.setOrder.stay.img[0]:""}},methods:{backToDetails(){this.$router.push("/stay/"+this.setOrder.stay._id)},backToPage(){this.$router.push("/"),v.success("Order sent!")}},components:{svgService:O,ElMessage:v,utilService:m}},x={key:0,class:"back-payment"},j={class:"top-bar-details"},w={class:"home-btn-back"},T={viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"presentation",focusable:"false",style:{display:"block",fill:"none",height:"12px",width:"12px",stroke:"currentcolor","stroke-width":"4",overflow:"visible"}},L=t("g",{fill:"none"},[t("path",{d:"m20 28-11.29289322-11.2928932c-.39052429-.3905243-.39052429-1.0236893 0-1.4142136l11.29289322-11.2928932"})],-1),N=[L],E={class:"payment-page"},I={class:"left-side"},C=t("div",{class:"payment-title"},[t("h1",null,"Thank you for booking")],-1),B={class:"good-deal"},F=["innerHTML"],H={class:"deal-content"},M={class:"trip-display"},V=t("h2",null,"Your trip",-1),Y={class:"trip-dates"},A=t("h1",null,"Dates",-1),G={class:"dates"},q={class:"trip-guests"},R=t("h1",null,"Guests",-1),W={class:"guests"},z={class:"cell"},J=t("div",{class:"content"},[t("button",{type:"submit",class:"action-btn"},[t("span",null,"Look for more homes")])],-1),K={class:"price-details"},Q={class:"top-section"},U={class:"details-img"},X=["src"],Z={class:"second"},$=t("div",{class:"host-img"},null,-1),tt={class:"stay-name"},et=t("div",{class:"middle-section"},[t("div",{class:"text"},[l("Your booking is protected by "),t("img",{src:"https://res.cloudinary.com/dj88xudav/image/upload/v1670001241/share-cover_drqj1d.png",alt:"share-cover",class:"share-cover-img"})])],-1),st={class:"bottom-section"},rt=t("div",{class:"bottom-title"},[t("h1",null,"Price details")],-1),it={class:"price"},at={class:"price"},nt=t("span",null,"Cleaning fee ",-1),ot={class:"price"},ct=t("span",null,"Service fee ",-1),dt={class:"price"},lt=t("span",null,"Taxes ",-1),ht={class:"price total"},ut=t("span",null,"Total price ",-1);function _t(s,e,a,h,o,r){return d(),c(b,null,[o.desktop?f("",!0):(d(),c("div",x,[t("section",j,[t("div",w,[(d(),c("svg",T,N)),t("button",{onClick:e[0]||(e[0]=(...n)=>r.backToDetails&&r.backToDetails(...n)),class:"home-back"},"Back")])])])),t("section",E,[t("div",I,[C,t("section",B,[t("div",{class:"title",innerHTML:r.dealAndDiamond},null,8,F),t("div",H,[t("p",null,[l("Your dates are "),t("span",null,"$"+i(r.getDiscount),1),l(" less than the avg. nightly rate over the last 3 months. ")])])]),t("section",M,[V,t("div",Y,[A,t("div",G,i(r.setDatesStart)+" - "+i(r.setDatesEnd),1)]),t("div",q,[R,t("div",W,i(o.guests)+" guests ",1)])]),t("div",{onClick:e[1]||(e[1]=(...n)=>r.backToPage&&r.backToPage(...n)),class:"btn-container"},[(d(),c(b,null,S(100,n=>t("div",z)),64)),J])]),t("section",K,[t("div",Q,[t("div",U,[t("img",{src:r.setImg},null,8,X)]),t("div",Z,[$,t("div",tt,i(r.setName),1)])]),et,t("div",st,[rt,t("div",it,[t("span",null,"price for "+i(r.totalNights)+" nights ",1),t("span",null,"$"+i(r.basePrice),1)]),t("div",at,[nt,t("span",null,"$"+i(r.cleaningPrice),1)]),t("div",ot,[ct,t("span",null,"$"+i(r.servicesPrice),1)]),t("div",dt,[lt,t("span",null,"$"+i(r.taxesPrice),1)]),t("div",ht,[ut,t("span",null,"$"+i(r.totalPrice),1)])])])])],64)}const mt=D(P,[["render",_t]]);export{mt as default};
